digraph G {
    #http://www.graphviz.org/pdf/dotguide.pdf
    rankdir = LR

    Internet [ color = blue, style = filled ]
    "Monitoring VPC" [ color = green, style = filled ]
    "Logging VPC" [ color = red, style = filled ]

    "Public VPC 1" [ color = lightgray, style = filled ]
    "Public VPC 2" [ color = lightgray, style = filled ]
    "Public VPC 3" [ color = lightgray, style = filled ]

    ranksep = 2.0
    nodesep = .5

    Internet -> "Public VPC 1" [dir=both color="red:blue"];
    Internet -> "Public VPC 2" [dir=both color="red:blue"];
    Internet -> "Public VPC 3" [dir=both color="red:blue"];

    {
        rank = same;
        Internet;
    }

    {
        rank = same;
        "Public VPC 1"; "Public VPC 2"; "Public VPC 3";
    }


    {
        rank = same;
        "Monitoring VPC"; "Logging VPC";
    }


    Internet -> "Monitoring VPC" [dir=both color="red:blue"];
    Internet -> "Logging VPC" [dir=both color="red:blue"];

    "Monitoring VPC" -> "Public VPC 1";
    "Monitoring VPC" -> "Public VPC 2";
    "Monitoring VPC" -> "Public VPC 3";

    "Public VPC 1" -> "Logging VPC";
    "Public VPC 2" -> "Logging VPC";
    "Public VPC 3" -> "Logging VPC";


    "Public VPC 1" -> "Public VPC 2" [dir=both color="red:blue"];
    "Public VPC 1" -> "Public VPC 3" [dir=both color="red:blue"];
    "Public VPC 2" -> "Public VPC 3" [dir=both color="red:blue"];
}
