digraph G {
    #http://www.graphviz.org/pdf/dotguide.pdf
    rankdir = LR

    Internet [ color = blue, style = filled ]
    "Monitoring VPC" [ color = green, style = filled ]
    "Logging VPC" [ color = red, style = filled ]

    "Public VPC 1" [ color = "darkorchid1", style = filled ]
    "Public VPC 2" [ color = "darkorchid1", style = filled ]
    "Public VPC 3" [ color = "darkorchid1", style = filled ]

    ranksep = 2.0
    nodesep = .5

    Internet -> "Public VPC 1" [dir=both color="blue:darkorchid1"];
    Internet -> "Public VPC 2" [dir=both color="blue:darkorchid1"];
    Internet -> "Public VPC 3" [dir=both color="blue:darkorchid1"];


    {
        rank = min;
        Internet;
    }

    {
        rank = same;
        "Public VPC 1"; "Public VPC 2"; "Public VPC 3";
    }


    {
        rank = max;
        "Monitoring VPC"; "Logging VPC";
    }



    "Public VPC 1" -> "Public VPC 2" [dir=both color="darkorchid1:darkorchid1"];
    "Public VPC 1" -> "Public VPC 3" [dir=both color="darkorchid1:darkorchid1"];
    "Public VPC 2" -> "Public VPC 3" [dir=both color="darkorchid1:darkorchid1"];

    Internet -> "Monitoring VPC" [dir=both color="blue:green"];
    Internet -> "Logging VPC" [dir=both color="blue:red"];

    "Monitoring VPC" -> "Public VPC 1" [ color="green"];
    "Monitoring VPC" -> "Public VPC 2" [ color="green"];
    "Monitoring VPC" -> "Public VPC 3" [ color="green"];

    "Public VPC 1" -> "Logging VPC" [ color = "darkorchid1" ];
    "Public VPC 2" -> "Logging VPC" [ color = "darkorchid1" ];
    "Public VPC 3" -> "Logging VPC" [ color = "darkorchid1" ];
}
